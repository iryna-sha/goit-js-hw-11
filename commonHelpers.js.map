{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export { getImages }\n\n//----------------------------------\n\nfunction getImages(imageName) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '44085737-801aedd726c9c1496368a8656',\n    q: imageName,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n  })\n\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.statusText);\n      }\n      return res.json();\n    })\n}","export { imageTamplate };\n//----------------------------------\n\nfunction createMarkup({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n  return `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n      </a>\n      <ul class=\"info\">\n        <li class=\"info-item\"> <b>Likes</b> ${likes} </li>\n        <li class=\"info-item\"> <b>Views</b> ${views} </li>\n        <li class=\"info-item\"> <b>Comments</b> ${comments} </li>\n        <li class=\"info-item\"> <b>Downloads</b> ${downloads} </li>\n      </ul>\n    </li>\n  `;\n}\n\nfunction imageTamplate(arr) {\n  return arr.map(createMarkup).join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImages } from './js/pixabay-api.js';\nimport { imageTamplate } from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.search-form');\nconst imageGallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\n//----------------------------------\n\nlet imageName = '';\n\nsearchForm.addEventListener('input', (event) => {\n  imageName = event.target.value.trim();\n});\n\nsearchForm.addEventListener('submit', onSubmit);\nfunction onSubmit(event) {\n  event.preventDefault();\n  showLoader();\n\n    if (imageName === '') {\n      iziToast.warning({\n      position: 'topRight',\n      timeout: 1800,\n      maxWidth: 300,\n      icon: 'none',\n      message: 'Please enter a search query!',\n    });\n    hideLoader();\n    return;\n  }\n\n  getImages(imageName)\n  .then(data => {\n      if (data.hits.length === 0) {\n      imageGallery.innerHTML = '';\n      return iziToast.error({ ...errorParams });\n      }\n\n      const markup = imageTamplate(data.hits);\n      imageGallery.innerHTML = markup;\n      lightbox.refresh();\n    })\n      .catch(error => {\n      console.error(error);\n      iziToast.error({\n        position: 'topRight',\n        timeout: 1800,\n        maxWidth: 300,\n        icon: 'none',\n        message: 'An error occurred while fetching images. Please try again later.',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n  return event.target.reset();\n}\n\n//---------------------Loader-----------------------\n\nfunction showLoader() {\n  loader.style.display = 'inline-block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\n//------------------iziToast params----------------\n\nconst errorParams = {\n  position: 'topRight',\n  timeout: 1800,\n  maxWidth: 300,\n  icon: 'none',\n  message: 'Sorry, there are no images matching your search query. Please try again!',\n}\n\n//------------------Simple Light box----------------\n\nlet lightbox = new SimpleLightbox(\".gallery a\", { captionDelay: 250, captionsData: \"alt\" });"],"names":["getImages","imageName","BASE_URL","params","url","res","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imageTamplate","arr","searchForm","imageGallery","loader","event","onSubmit","showLoader","iziToast","hideLoader","data","errorParams","markup","lightbox","error","SimpleLightbox"],"mappings":"6vBAIA,SAASA,EAAUC,EAAW,CAC5B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,UAAU,EAEhC,OAAOA,EAAI,MACjB,CAAK,CACL,CCpBA,SAASC,EAAa,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CAC9F,MAAO;AAAA;AAAA,sCAE6BL,CAAa;AAAA,0CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,8CAGtBC,CAAK;AAAA,8CACLC,CAAK;AAAA,iDACFC,CAAQ;AAAA,kDACPC,CAAS;AAAA;AAAA;AAAA,GAI3D,CAEA,SAASC,EAAcC,EAAK,CAC1B,OAAOA,EAAI,IAAIT,CAAY,EAAE,KAAK,EAAE,CACtC,CCbA,MAAMU,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,UAAU,EAChDC,EAAS,SAAS,cAAc,SAAS,EAI/C,IAAIjB,EAAY,GAEhBe,EAAW,iBAAiB,QAAUG,GAAU,CAC9ClB,EAAYkB,EAAM,OAAO,MAAM,KAAI,CACrC,CAAC,EAEDH,EAAW,iBAAiB,SAAUI,CAAQ,EAC9C,SAASA,EAASD,EAAO,CAIrB,GAHFA,EAAM,eAAc,EACpBE,IAEMpB,IAAc,GAAI,CACpBqB,EAAS,QAAQ,CACjB,SAAU,WACV,QAAS,KACT,SAAU,IACV,KAAM,OACN,QAAS,8BACf,CAAK,EACDC,IACA,MACD,CAED,OAAAvB,EAAUC,CAAS,EAClB,KAAKuB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACzB,OAAAP,EAAa,UAAY,GAClBK,EAAS,MAAM,CAAE,GAAGG,CAAa,CAAA,EAGxC,MAAMC,EAASZ,EAAcU,EAAK,IAAI,EACtCP,EAAa,UAAYS,EACzBC,EAAS,QAAO,CACtB,CAAK,EACE,MAAMC,GAAS,CAChB,QAAQ,MAAMA,CAAK,EACnBN,EAAS,MAAM,CACb,SAAU,WACV,QAAS,KACT,SAAU,IACV,KAAM,OACN,QAAS,kEACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,EACIJ,EAAM,OAAO,OACtB,CAIA,SAASE,GAAa,CACpBH,EAAO,MAAM,QAAU,cACzB,CAEA,SAASK,GAAa,CACpBL,EAAO,MAAM,QAAU,MACzB,CAIA,MAAMO,EAAc,CAClB,SAAU,WACV,QAAS,KACT,SAAU,IACV,KAAM,OACN,QAAS,0EACX,EAIA,IAAIE,EAAW,IAAIE,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,MAAO"}